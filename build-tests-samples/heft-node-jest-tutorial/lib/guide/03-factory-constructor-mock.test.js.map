{"version":3,"file":"03-factory-constructor-mock.test.js","sourceRoot":"","sources":["../../src/guide/03-factory-constructor-mock.test.ts"],"names":[],"mappings":";AAAA,oDAAoD;AACpD,6DAA6D;;AAE7D,MAAM,iBAAiB,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;AAEpC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,GAAG,EAAE;IAC9B,OAAO;QACL,WAAW,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,kBAAkB,CAAC,GAAG,EAAE;YAC7C,OAAO,EAAE,aAAa,EAAE,iBAAiB,EAAE,CAAC;QAC9C,CAAC,CAAC;KACH,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,+DAA4D;AAC5D,+CAA4C;AAE5C,UAAU,CAAC,GAAG,EAAE;IACd,MAAM,CAAC,yBAAW,CAAC,CAAC,SAAS,EAAE,CAAC;IAChC,iBAAiB,CAAC,SAAS,EAAE,CAAC;AAChC,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,0DAA0D,EAAE,GAAG,EAAE;IAClE,MAAM,mBAAmB,GAAG,IAAI,yCAAmB,EAAE,CAAC;IACtD,yCAAyC;IACzC,MAAM,CAAC,mBAAmB,CAAC,CAAC,UAAU,EAAE,CAAC;AAC3C,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,2DAA2D,EAAE,GAAG,EAAE;IACnE,IAAI,yCAAmB,EAAE,CAAC;IAC1B,MAAM,CAAC,yBAAW,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,oEAAoE,EAAE,GAAG,EAAE;IAC5E,MAAM,mBAAmB,GAAG,IAAI,yCAAmB,EAAE,CAAC;IACtD,MAAM,iBAAiB,GAAW,UAAU,CAAC;IAC7C,mBAAmB,CAAC,iBAAiB,EAAE,CAAC;IACxC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACxE,CAAC,CAAC,CAAC","sourcesContent":["// This example is adapted from the Jest guide here:\r\n// https://jestjs.io/docs/en/es6-class-mocks#complete-example\r\n\r\nconst mockPlaySoundFile = jest.fn();\r\n\r\njest.mock('./SoundPlayer', () => {\r\n  return {\r\n    SoundPlayer: jest.fn().mockImplementation(() => {\r\n      return { playSoundFile: mockPlaySoundFile };\r\n    })\r\n  };\r\n});\r\n\r\nimport { SoundPlayerConsumer } from './SoundPlayerConsumer';\r\nimport { SoundPlayer } from './SoundPlayer';\r\n\r\nbeforeEach(() => {\r\n  mocked(SoundPlayer).mockClear();\r\n  mockPlaySoundFile.mockClear();\r\n});\r\n\r\nit('The consumer should be able to call new() on SoundPlayer', () => {\r\n  const soundPlayerConsumer = new SoundPlayerConsumer();\r\n  // Ensure constructor created the object:\r\n  expect(soundPlayerConsumer).toBeTruthy();\r\n});\r\n\r\nit('We can check if the consumer called the class constructor', () => {\r\n  new SoundPlayerConsumer();\r\n  expect(SoundPlayer).toHaveBeenCalledTimes(1);\r\n});\r\n\r\nit('We can check if the consumer called a method on the class instance', () => {\r\n  const soundPlayerConsumer = new SoundPlayerConsumer();\r\n  const coolSoundFileName: string = 'song.mp3';\r\n  soundPlayerConsumer.playSomethingCool();\r\n  expect(mockPlaySoundFile.mock.calls[0][0]).toEqual(coolSoundFileName);\r\n});\r\n"]}