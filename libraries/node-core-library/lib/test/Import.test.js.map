{"version":3,"file":"Import.test.js","sourceRoot":"","sources":["../../src/test/Import.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport * as nodeJsPath from 'path';\r\nimport { Import } from '../Import';\r\nimport { PackageJsonLookup } from '../PackageJsonLookup';\r\nimport { Path } from '../Path';\r\n\r\ndescribe('Import', () => {\r\n  const packageRoot: string = PackageJsonLookup.instance.tryGetPackageFolderFor(__dirname)!;\r\n\r\n  describe('resolveModule', () => {\r\n    it('returns an absolute path as-is', () => {\r\n      const absolutePaths: string[] = ['/var/test/path'];\r\n\r\n      for (const absolutePath of absolutePaths) {\r\n        expect(Import.resolveModule({ modulePath: absolutePath, baseFolderPath: __dirname })).toEqual(\r\n          absolutePath\r\n        );\r\n      }\r\n    });\r\n\r\n    it('resolves a relative path', () => {\r\n      expect(Import.resolveModule({ modulePath: './baz', baseFolderPath: __dirname })).toEqual(\r\n        nodeJsPath.join(__dirname, 'baz')\r\n      );\r\n      expect(Import.resolveModule({ modulePath: '../baz', baseFolderPath: __dirname })).toEqual(\r\n        nodeJsPath.resolve(__dirname, '..', 'baz')\r\n      );\r\n      expect(Import.resolveModule({ modulePath: './baz/ban', baseFolderPath: __dirname })).toEqual(\r\n        nodeJsPath.join(__dirname, 'baz', 'ban')\r\n      );\r\n      expect(Import.resolveModule({ modulePath: '../baz/ban', baseFolderPath: __dirname })).toEqual(\r\n        nodeJsPath.resolve(__dirname, '..', 'baz', 'ban')\r\n      );\r\n    });\r\n\r\n    it('resolves a dependency', () => {\r\n      expect(\r\n        Path.convertToSlashes(\r\n          Import.resolveModule({ modulePath: '@rushstack/heft', baseFolderPath: __dirname })\r\n        )\r\n      ).toMatch(/node_modules\\/@rushstack\\/heft\\/lib\\/index.js$/);\r\n    });\r\n\r\n    it('resolves a path inside a dependency', () => {\r\n      expect(\r\n        Path.convertToSlashes(\r\n          Import.resolveModule({\r\n            modulePath: '@rushstack/heft/lib/start.js',\r\n            baseFolderPath: __dirname\r\n          })\r\n        )\r\n      ).toMatch(/node_modules\\/@rushstack\\/heft\\/lib\\/start\\.js$/);\r\n    });\r\n\r\n    it('resolves a dependency of a dependency', () => {\r\n      expect(\r\n        Path.convertToSlashes(\r\n          Import.resolveModule({\r\n            modulePath: '@rushstack/ts-command-line',\r\n            baseFolderPath: nodeJsPath.join(packageRoot, 'node_modules', '@rushstack', 'heft')\r\n          })\r\n        )\r\n      ).toMatch(/node_modules\\/@rushstack\\/ts-command-line\\/lib\\/index\\.js$/);\r\n    });\r\n\r\n    it('resolves a path inside a dependency of a dependency', () => {\r\n      expect(\r\n        Path.convertToSlashes(\r\n          Import.resolveModule({\r\n            modulePath: '@rushstack/ts-command-line/lib/Constants.js',\r\n            baseFolderPath: nodeJsPath.join(packageRoot, 'node_modules', '@rushstack', 'heft')\r\n          })\r\n        )\r\n      ).toMatch(/node_modules\\/@rushstack\\/ts-command-line\\/lib\\/Constants\\.js$/);\r\n    });\r\n\r\n    describe('allowSelfReference', () => {\r\n      it('resolves a path inside this package with allowSelfReference turned on', () => {\r\n        expect(\r\n          Import.resolveModule({\r\n            modulePath: '@rushstack/node-core-library',\r\n            baseFolderPath: __dirname,\r\n            allowSelfReference: true\r\n          })\r\n        ).toEqual(packageRoot);\r\n        expect(\r\n          Import.resolveModule({\r\n            modulePath: '@rushstack/node-core-library/lib/Constants.js',\r\n            baseFolderPath: __dirname,\r\n            allowSelfReference: true\r\n          })\r\n        ).toEqual(nodeJsPath.join(packageRoot, 'lib', 'Constants.js'));\r\n      });\r\n\r\n      it('throws on an attempt to reference this package without allowSelfReference turned on', () => {\r\n        expect(() =>\r\n          Import.resolveModule({\r\n            modulePath: '@rushstack/node-core-library',\r\n            baseFolderPath: __dirname\r\n          })\r\n        ).toThrowError(/^Cannot find module \"@rushstack\\/node-core-library\" from \".+\"\\.$/);\r\n        expect(() =>\r\n          Import.resolveModule({\r\n            modulePath: '@rushstack/node-core-library/lib/Constants.js',\r\n            baseFolderPath: __dirname\r\n          })\r\n        ).toThrowError(/^Cannot find module \"@rushstack\\/node-core-library\\/lib\\/Constants.js\" from \".+\"\\.$/);\r\n      });\r\n    });\r\n\r\n    describe('includeSystemModules', () => {\r\n      it('resolves a system module with includeSystemModules turned on', () => {\r\n        expect(\r\n          Import.resolveModule({ modulePath: 'http', baseFolderPath: __dirname, includeSystemModules: true })\r\n        ).toEqual('http');\r\n      });\r\n\r\n      it('throws on an attempt to resolve a system module without includeSystemModules turned on', () => {\r\n        expect(() => Import.resolveModule({ modulePath: 'http', baseFolderPath: __dirname })).toThrowError(\r\n          /^Cannot find module \"http\" from \".+\"\\.$/\r\n        );\r\n      });\r\n\r\n      it('throws on an attempt to resolve a path inside a system module with includeSystemModules turned on', () => {\r\n        expect(() =>\r\n          Import.resolveModule({\r\n            modulePath: 'http/foo/bar',\r\n            baseFolderPath: __dirname,\r\n            includeSystemModules: true\r\n          })\r\n        ).toThrowError(/^Cannot find module \"http\\/foo\\/bar\" from \".+\"\\.$/);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('resolvePackage', () => {\r\n    it('resolves a dependency', () => {\r\n      expect(\r\n        Import.resolvePackage({ packageName: '@rushstack/heft', baseFolderPath: __dirname }).replace(\r\n          /\\\\/g,\r\n          '/'\r\n        )\r\n      ).toMatch(/node_modules\\/@rushstack\\/heft$/);\r\n    });\r\n\r\n    it('fails to resolve a path inside a dependency', () => {\r\n      expect(() =>\r\n        Path.convertToSlashes(\r\n          Import.resolvePackage({\r\n            packageName: '@rushstack/heft/lib/start.js',\r\n            baseFolderPath: __dirname\r\n          })\r\n        )\r\n      ).toThrowError(/^Cannot find package \"@rushstack\\/heft\\/lib\\/start.js\" from \".+\"\\.$/);\r\n    });\r\n\r\n    it('resolves a dependency of a dependency', () => {\r\n      expect(\r\n        Path.convertToSlashes(\r\n          Import.resolvePackage({\r\n            packageName: '@rushstack/ts-command-line',\r\n            baseFolderPath: nodeJsPath.join(packageRoot, 'node_modules', '@rushstack', 'heft')\r\n          })\r\n        )\r\n      ).toMatch(/node_modules\\/@rushstack\\/ts-command-line$/);\r\n    });\r\n\r\n    it('fails to resolve a path inside a dependency of a dependency', () => {\r\n      expect(() =>\r\n        Path.convertToSlashes(\r\n          Import.resolvePackage({\r\n            packageName: '@rushstack/ts-command-line/lib/Constants.js',\r\n            baseFolderPath: nodeJsPath.join(packageRoot, 'node_modules', '@rushstack', 'heft')\r\n          })\r\n        )\r\n      ).toThrowError(/^Cannot find package \"@rushstack\\/ts-command-line\\/lib\\/Constants.js\" from \".+\"\\.$/);\r\n    });\r\n\r\n    describe('allowSelfReference', () => {\r\n      it('resolves this package with allowSelfReference turned on', () => {\r\n        expect(\r\n          Import.resolvePackage({\r\n            packageName: '@rushstack/node-core-library',\r\n            baseFolderPath: __dirname,\r\n            allowSelfReference: true\r\n          })\r\n        ).toEqual(packageRoot);\r\n      });\r\n\r\n      it('fails to resolve a path inside this package with allowSelfReference turned on', () => {\r\n        expect(() =>\r\n          Import.resolvePackage({\r\n            packageName: '@rushstack/node-core-library/lib/Constants.js',\r\n            baseFolderPath: __dirname,\r\n            allowSelfReference: true\r\n          })\r\n        ).toThrowError(\r\n          /^Cannot find package \"@rushstack\\/node-core-library\\/lib\\/Constants.js\" from \".+\"\\.$/\r\n        );\r\n      });\r\n\r\n      it('throws on an attempt to reference this package without allowSelfReference turned on', () => {\r\n        expect(() =>\r\n          Import.resolvePackage({\r\n            packageName: '@rushstack/node-core-library',\r\n            baseFolderPath: __dirname\r\n          })\r\n        ).toThrowError(/^Cannot find package \"@rushstack\\/node-core-library\" from \".+\"\\.$/);\r\n      });\r\n    });\r\n\r\n    describe('includeSystemModules', () => {\r\n      it('resolves a system module with includeSystemModules turned on', () => {\r\n        expect(\r\n          Import.resolvePackage({\r\n            packageName: 'http',\r\n            baseFolderPath: __dirname,\r\n            includeSystemModules: true\r\n          })\r\n        ).toEqual('http');\r\n      });\r\n\r\n      it('throws on an attempt to resolve a system module without includeSystemModules turned on', () => {\r\n        expect(() => Import.resolvePackage({ packageName: 'http', baseFolderPath: __dirname })).toThrowError(\r\n          /^Cannot find package \"http\" from \".+\"\\.$/\r\n        );\r\n      });\r\n\r\n      it('throws on an attempt to resolve a path inside a system module with includeSystemModules turned on', () => {\r\n        expect(() =>\r\n          Import.resolvePackage({\r\n            packageName: 'http/foo/bar',\r\n            baseFolderPath: __dirname,\r\n            includeSystemModules: true\r\n          })\r\n        ).toThrowError(/^Cannot find package \"http\\/foo\\/bar\" from \".+\"\\.$/);\r\n      });\r\n    });\r\n  });\r\n});\r\n"]}