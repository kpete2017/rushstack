{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;AAAA,qCAAmC;AAiBnC,MAAa,eAAe;IAA5B;QAGS,eAAU,6CAAuC;IAmB1D,CAAC;IAjBC,IAAW,QAAQ;QACjB,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAEM,KAAK,CAAC,WAAwB,EAAE,iBAAoC;QACzE,IAAI,CAAC,SAAS,GAAG;YACf,WAAW,EAAE,IAAI,kBAAQ,EAAE;SAC5B,CAAC;QAEF,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,4CAA8B,CAAC,KAAyB,EAAE,EAAE;YACrF,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,4CAA8B,CAAC,UAA+B,EAAE,EAAE;gBAC1F,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,4CAA8B,GAAG,EAAE;oBACzD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;gBACnC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAtBD,0CAsBC;AAED,kBAAe,IAAI,eAAe,EAAE,CAAC","sourcesContent":["import { SyncHook } from 'tapable';\r\nimport {\r\n  IHeftPlugin,\r\n  HeftSession,\r\n  HeftConfiguration,\r\n  IBuildStageContext,\r\n  IPreCompileSubstage\r\n} from '@rushstack/heft';\r\n\r\nexport const enum PluginNames {\r\n  ExamplePlugin01 = 'example-plugin-01'\r\n}\r\n\r\nexport interface IExamplePlugin01Accessor {\r\n  exampleHook: SyncHook;\r\n}\r\n\r\nexport class ExamplePlugin01 implements IHeftPlugin {\r\n  private _accessor: IExamplePlugin01Accessor;\r\n\r\n  public pluginName: string = PluginNames.ExamplePlugin01;\r\n\r\n  public get accessor(): IExamplePlugin01Accessor {\r\n    return this._accessor;\r\n  }\r\n\r\n  public apply(heftSession: HeftSession, heftConfiguration: HeftConfiguration): void {\r\n    this._accessor = {\r\n      exampleHook: new SyncHook()\r\n    };\r\n\r\n    heftSession.hooks.build.tap(PluginNames.ExamplePlugin01, (build: IBuildStageContext) => {\r\n      build.hooks.preCompile.tap(PluginNames.ExamplePlugin01, (preCompile: IPreCompileSubstage) => {\r\n        preCompile.hooks.run.tap(PluginNames.ExamplePlugin01, () => {\r\n          this.accessor.exampleHook.call();\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new ExamplePlugin01();\r\n"]}