{"version":3,"file":"ShrinkwrapFile.test.js","sourceRoot":"","sources":["../../../src/logic/test/ShrinkwrapFile.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport * as path from 'path';\r\n\r\nimport { BaseShrinkwrapFile } from '../base/BaseShrinkwrapFile';\r\nimport { ShrinkwrapFileFactory } from '../ShrinkwrapFileFactory';\r\nimport { parsePnpmDependencyKey } from '../pnpm/PnpmShrinkwrapFile';\r\nimport { DependencySpecifier } from '../DependencySpecifier';\r\n\r\ndescribe('npm ShrinkwrapFile', () => {\r\n  const filename: string = path.resolve(path.join(__dirname, './shrinkwrapFile/npm-shrinkwrap.json'));\r\n  const shrinkwrapFile: BaseShrinkwrapFile = ShrinkwrapFileFactory.getShrinkwrapFile('npm', {}, filename)!;\r\n\r\n  it('verifies root-level dependency', () => {\r\n    expect(shrinkwrapFile.hasCompatibleTopLevelDependency(new DependencySpecifier('q', '~1.5.0'))).toEqual(\r\n      true\r\n    );\r\n  });\r\n\r\n  it('verifies temp project dependencies', () => {\r\n    // Found locally\r\n    expect(\r\n      shrinkwrapFile.tryEnsureCompatibleDependency(\r\n        new DependencySpecifier('jquery', '>=2.2.4 <3.0.0'),\r\n        '@rush-temp/project2'\r\n      )\r\n    ).toEqual(true);\r\n    // Found at root\r\n    expect(\r\n      shrinkwrapFile.tryEnsureCompatibleDependency(\r\n        new DependencySpecifier('q', '~1.5.0'),\r\n        '@rush-temp/project2'\r\n      )\r\n    ).toEqual(true);\r\n  });\r\n\r\n  it('extracts temp projects successfully', () => {\r\n    const tempProjectNames: ReadonlyArray<string> = shrinkwrapFile.getTempProjectNames();\r\n\r\n    expect(tempProjectNames).toEqual(['@rush-temp/project1', '@rush-temp/project2']);\r\n  });\r\n});\r\n\r\ndescribe('pnpm ShrinkwrapFile', () => {\r\n  const filename: string = path.resolve(\r\n    path.join(__dirname, '../../../src/logic/test/shrinkwrapFile/pnpm-lock.yaml')\r\n  );\r\n  const shrinkwrapFile: BaseShrinkwrapFile = ShrinkwrapFileFactory.getShrinkwrapFile('pnpm', {}, filename)!;\r\n\r\n  it('verifies root-level dependency', () => {\r\n    expect(shrinkwrapFile.hasCompatibleTopLevelDependency(new DependencySpecifier('q', '~1.5.0'))).toEqual(\r\n      false\r\n    );\r\n  });\r\n\r\n  it('verifies temp project dependencies', () => {\r\n    expect(\r\n      shrinkwrapFile.tryEnsureCompatibleDependency(\r\n        new DependencySpecifier('jquery', '>=2.0.0 <3.0.0'),\r\n        '@rush-temp/project1'\r\n      )\r\n    ).toEqual(true);\r\n    expect(\r\n      shrinkwrapFile.tryEnsureCompatibleDependency(\r\n        new DependencySpecifier('q', '~1.5.0'),\r\n        '@rush-temp/project2'\r\n      )\r\n    ).toEqual(true);\r\n    expect(\r\n      shrinkwrapFile.tryEnsureCompatibleDependency(\r\n        new DependencySpecifier('left-pad', '~9.9.9'),\r\n        '@rush-temp/project1'\r\n      )\r\n    ).toEqual(false);\r\n    expect(\r\n      shrinkwrapFile.tryEnsureCompatibleDependency(\r\n        new DependencySpecifier('@scope/testDep', '>=1.0.0 <2.0.0'),\r\n        '@rush-temp/project3'\r\n      )\r\n    ).toEqual(true);\r\n  });\r\n\r\n  it('extracts temp projects successfully', () => {\r\n    const tempProjectNames: ReadonlyArray<string> = shrinkwrapFile.getTempProjectNames();\r\n\r\n    expect(tempProjectNames).toEqual(['@rush-temp/project1', '@rush-temp/project2', '@rush-temp/project3']);\r\n  });\r\n});\r\n\r\nfunction testParsePnpmDependencyKey(packageName: string, key: string): string | undefined {\r\n  const specifier: DependencySpecifier | undefined = parsePnpmDependencyKey(packageName, key);\r\n  if (!specifier) {\r\n    return undefined;\r\n  }\r\n  return specifier.versionSpecifier;\r\n}\r\n\r\ndescribe('extractVersionFromPnpmVersionSpecifier', () => {\r\n  it('extracts a simple version with no slashes', () => {\r\n    expect(testParsePnpmDependencyKey('anonymous', '0.0.5')).toEqual('0.0.5');\r\n  });\r\n  it('extracts a simple package name', () => {\r\n    expect(testParsePnpmDependencyKey('isarray', '/isarray/2.0.5')).toEqual('2.0.5');\r\n    expect(testParsePnpmDependencyKey('@scope/test-dep', '/@scope/test-dep/1.2.3-beta.3')).toEqual(\r\n      '1.2.3-beta.3'\r\n    );\r\n  });\r\n  it('extracts a registry-qualified path', () => {\r\n    expect(\r\n      testParsePnpmDependencyKey('@scope/test-dep', 'example.pkgs.visualstudio.com/@scope/test-dep/1.0.0')\r\n    ).toEqual('1.0.0');\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        '@scope/test-dep',\r\n        'example.pkgs.visualstudio.com/@scope/test-dep/1.2.3-beta.3'\r\n      )\r\n    ).toEqual('1.2.3-beta.3');\r\n  });\r\n  it('extracts a V3 peer dependency path', () => {\r\n    expect(testParsePnpmDependencyKey('gulp-karma', '/gulp-karma/0.0.5/karma@0.13.22')).toEqual('0.0.5');\r\n    expect(testParsePnpmDependencyKey('sinon-chai', '/sinon-chai/2.8.0/chai@3.5.0+sinon@1.17.7')).toEqual(\r\n      '2.8.0'\r\n    );\r\n    expect(\r\n      testParsePnpmDependencyKey('@ms/sp-client-utilities', '/@ms/sp-client-utilities/3.1.1/foo@13.1.0')\r\n    ).toEqual('3.1.1');\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'tslint-microsoft-contrib',\r\n        '/tslint-microsoft-contrib/6.2.0/tslint@5.18.0+typescript@3.5.3'\r\n      )\r\n    ).toEqual('6.2.0');\r\n  });\r\n  it('extracts a V5 peer dependency path', () => {\r\n    expect(testParsePnpmDependencyKey('anonymous', '23.6.0_babel-core@6.26.3')).toEqual('23.6.0');\r\n    expect(testParsePnpmDependencyKey('anonymous', '1.0.7_request@2.88.0')).toEqual('1.0.7');\r\n    expect(testParsePnpmDependencyKey('anonymous', '1.0.3_@pnpm+logger@1.0.2')).toEqual('1.0.3');\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'tslint-microsoft-contrib',\r\n        '/tslint-microsoft-contrib/6.2.0_tslint@5.18.0+typescript@3.5.3'\r\n      )\r\n    ).toEqual('6.2.0');\r\n  });\r\n  it('detects NPM package aliases', () => {\r\n    expect(testParsePnpmDependencyKey('alias1', '/isarray/2.0.5')).toEqual('npm:isarray@2.0.5');\r\n    expect(testParsePnpmDependencyKey('alias2', '/@ms/sp-client-utilities/3.1.1/foo@13.1.0')).toEqual(\r\n      'npm:@ms/sp-client-utilities@3.1.1'\r\n    );\r\n  });\r\n  it('detects urls', () => {\r\n    expect(\r\n      testParsePnpmDependencyKey('example', '@github.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64')\r\n    ).toEqual('@github.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64');\r\n    expect(\r\n      testParsePnpmDependencyKey('example', 'github.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64')\r\n    ).toEqual('github.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64');\r\n    expect(\r\n      testParsePnpmDependencyKey('example', 'bitbucket.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64')\r\n    ).toEqual('bitbucket.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64');\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'example',\r\n        'microsoft.github.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64'\r\n      )\r\n    ).toEqual('microsoft.github.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64');\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'example',\r\n        'microsoft.github/.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64'\r\n      )\r\n    ).toEqual('microsoft.github/.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64');\r\n    expect(\r\n      testParsePnpmDependencyKey('example', 'ab.cd.ef.gh/ijkl/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64')\r\n    ).toEqual('ab.cd.ef.gh/ijkl/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64');\r\n    expect(testParsePnpmDependencyKey('example', 'ab.cd/ef')).toEqual('ab.cd/ef');\r\n  });\r\n  it('handles bad cases', () => {\r\n    expect(testParsePnpmDependencyKey('example', '/foo/gulp-karma/0.0.5/karma@0.13.22')).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', '/@ms/3.1.1/foo@13.1.0')).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', 'file:projects/my-app.tgz')).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', '')).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', '/')).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', '//')).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', '/@/')).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', 'example.pkgs.visualstudio.com/@scope/testDep/')).toEqual(\r\n      undefined\r\n    );\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'example',\r\n        'microsoft.github.com/abc\\\\def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64'\r\n      )\r\n    ).toEqual(undefined);\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'example',\r\n        'microsoft.github.com/abc/def//abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64'\r\n      )\r\n    ).toEqual(undefined);\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'example',\r\n        'microsoft./github.com/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64'\r\n      )\r\n    ).toEqual(undefined);\r\n    expect(\r\n      testParsePnpmDependencyKey(\r\n        'example',\r\n        'microsoft/abc/github/abc/def/abcdef2fbd0260e6e56ed5ba34df0f5b6599bbe64'\r\n      )\r\n    ).toEqual(undefined);\r\n    expect(testParsePnpmDependencyKey('example', 'ab.cd/ef/')).toEqual(undefined);\r\n  });\r\n});\r\n"]}