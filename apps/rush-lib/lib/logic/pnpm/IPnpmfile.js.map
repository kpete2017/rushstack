{"version":3,"file":"IPnpmfile.js","sourceRoot":"","sources":["../../../src/logic/pnpm/IPnpmfile.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport type { IPackageJson } from '@rushstack/node-core-library';\r\nimport type { IPnpmShrinkwrapYaml } from './PnpmShrinkwrapFile';\r\n\r\n/**\r\n * The `settings` parameter passed to {@link IPnpmfileShim.hooks.readPackage} and\r\n * {@link IPnpmfileShim.hooks.afterAllResolved}.\r\n */\r\nexport interface IPnpmfileShimSettings {\r\n  semverPath: string;\r\n  allPreferredVersions: { [dependencyName: string]: string };\r\n  allowedAlternativeVersions: { [dependencyName: string]: ReadonlyArray<string> };\r\n  userPnpmfilePath?: string;\r\n}\r\n\r\n/**\r\n * The `context` parameter passed to {@link IPnpmfile.hooks.readPackage}, as defined by the\r\n * pnpmfile API contract.\r\n */\r\nexport interface IPnpmfileContext {\r\n  log: (message: string) => void;\r\n  pnpmfileShimSettings?: IPnpmfileShimSettings;\r\n}\r\n\r\n/**\r\n * The pnpmfile, as defined by the pnpmfile API contract.\r\n */\r\nexport interface IPnpmfile {\r\n  hooks?: {\r\n    afterAllResolved?: (lockfile: IPnpmShrinkwrapYaml, context: IPnpmfileContext) => IPnpmShrinkwrapYaml;\r\n    readPackage?: (pkg: IPackageJson, context: IPnpmfileContext) => IPackageJson;\r\n  };\r\n}\r\n"]}