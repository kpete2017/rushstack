{"version":3,"file":"MockBuilder.js","sourceRoot":"","sources":["../../../../src/logic/taskRunner/test/MockBuilder.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAI3D,8CAA2C;AAC3C,gDAA8D;AAE9D,MAAa,WAAY,SAAQ,yBAAW;IAM1C,YAAmB,IAAY,EAAE,MAA4D;QAC3F,KAAK,EAAE,CAAC;QAJM,mBAAc,GAAY,KAAK,CAAC;QAChC,8BAAyB,GAAY,KAAK,CAAC;QAKzD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IACxB,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,OAAwB;QAChD,IAAI,MAAyB,CAAC;QAC9B,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;SAC9D;QACD,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,uBAAU,CAAC,OAAO,CAAC;IAC9C,CAAC;CACF;AApBD,kCAoBC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { CollatedTerminal } from '@rushstack/stream-collator';\r\n\r\nimport { TaskStatus } from '../TaskStatus';\r\nimport { BaseBuilder, IBuilderContext } from '../BaseBuilder';\r\n\r\nexport class MockBuilder extends BaseBuilder {\r\n  private readonly _action: ((terminal: CollatedTerminal) => Promise<TaskStatus>) | undefined;\r\n  public readonly name: string;\r\n  public readonly hadEmptyScript: boolean = false;\r\n  public readonly isIncrementalBuildAllowed: boolean = false;\r\n\r\n  public constructor(name: string, action?: (terminal: CollatedTerminal) => Promise<TaskStatus>) {\r\n    super();\r\n\r\n    this.name = name;\r\n    this._action = action;\r\n  }\r\n\r\n  public async executeAsync(context: IBuilderContext): Promise<TaskStatus> {\r\n    let result: TaskStatus | void;\r\n    if (this._action) {\r\n      result = await this._action(context.collatedWriter.terminal);\r\n    }\r\n    return result ? result : TaskStatus.Success;\r\n  }\r\n}\r\n"]}