{"version":3,"file":"ChangeFile.test.js","sourceRoot":"","sources":["../../../src/api/test/ChangeFile.test.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;;;;;;;;;;;;;;;;;;;AAE3D,2CAA6B;AAE7B,8CAA2C;AAC3C,4DAAyD;AACzD,0DAAiD;AAEjD,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE;IAC1B,EAAE,CAAC,kBAAkB,EAAE,GAAG,EAAE;QAC1B,MAAM,YAAY,GAAW,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC;QAC9E,MAAM,iBAAiB,GAAsB,qCAAiB,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC;QAEvG,MAAM,UAAU,GAAe,IAAI,uBAAU,CAC3C;YACE,WAAW,EAAE,GAAG;YAChB,OAAO,EAAE,EAAE;YACX,KAAK,EAAE,oBAAoB;SAC5B,EACD,iBAAiB,CAClB,CAAC;QAEF,UAAU,CAAC,SAAS,CAAC;YACnB,WAAW,EAAE,GAAG;YAChB,UAAU,EAAE,6BAAU,CAAC,KAAK;YAC5B,OAAO,EAAE,WAAW;SACrB,CAAC,CAAC;QAEH,UAAU,CAAC,SAAS,CAAC;YACnB,WAAW,EAAE,GAAG;YAChB,UAAU,EAAE,6BAAU,CAAC,KAAK;YAC5B,OAAO,EAAE,WAAW;SACrB,CAAC,CAAC;QAEH,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QACnD,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACnE,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IACrE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport * as path from 'path';\r\n\r\nimport { ChangeFile } from '../ChangeFile';\r\nimport { RushConfiguration } from '../RushConfiguration';\r\nimport { ChangeType } from '../ChangeManagement';\r\n\r\ndescribe('ChangeFile', () => {\r\n  it('can add a change', () => {\r\n    const rushFilename: string = path.resolve(__dirname, 'repo', 'rush-npm.json');\r\n    const rushConfiguration: RushConfiguration = RushConfiguration.loadFromConfigurationFile(rushFilename);\r\n\r\n    const changeFile: ChangeFile = new ChangeFile(\r\n      {\r\n        packageName: 'a',\r\n        changes: [],\r\n        email: 'fake@microsoft.com'\r\n      },\r\n      rushConfiguration\r\n    );\r\n\r\n    changeFile.addChange({\r\n      packageName: 'a',\r\n      changeType: ChangeType.minor,\r\n      comment: 'for minor'\r\n    });\r\n\r\n    changeFile.addChange({\r\n      packageName: 'a',\r\n      changeType: ChangeType.patch,\r\n      comment: 'for patch'\r\n    });\r\n\r\n    expect(changeFile.getChanges('a')).toHaveLength(2);\r\n    expect(changeFile.getChanges('a')[0].comment).toEqual('for minor');\r\n    expect(changeFile.getChanges('a')[1].comment).toEqual('for patch');\r\n  });\r\n});\r\n"]}