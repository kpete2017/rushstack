{"version":3,"file":"RushUtilities.js","sourceRoot":"","sources":["../../src/utilities/RushUtilities.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;;;;;;;;;;;;;;;;;;;;AAE3D;;;;GAIG;AACH,2CAA6B;AAC7B,oEAA0D;AAE1D,SAAS,mBAAmB;IAC1B,IAAI,aAAa,GAAW,OAAO,CAAC,GAAG,EAAE,CAAC;IAE1C,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACnC,MAAM,gBAAgB,GAAW,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;QAEvE,IAAI,8BAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE;YACvC,OAAO,aAAa,CAAC;SACtB;QAED,MAAM,YAAY,GAAW,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACzD,IAAI,YAAY,KAAK,aAAa,EAAE;YAClC,MAAM;SACP;QACD,aAAa,GAAG,YAAY,CAAC;KAC9B;IACD,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;AACjE,CAAC;AAED,IAAI,qBAA6B,CAAC;AAClC,SAAgB,kBAAkB;IAChC,OAAO,qBAAqB,IAAI,CAAC,qBAAqB,GAAG,mBAAmB,EAAE,CAAC,CAAC;AAClF,CAAC;AAFD,gDAEC;AAED,SAAgB,uBAAuB;IACrC,MAAM,cAAc,GAAW,kBAAkB,EAAE,CAAC;IACpD,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;AACrD,CAAC;AAHD,0DAGC;AAED,SAAgB,mBAAmB;IACjC,MAAM,cAAc,GAAW,kBAAkB,EAAE,CAAC;IACpD,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACvD,CAAC;AAHD,kDAGC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\n/**\r\n * This is taken from rush-lib. If we use RushConfiguration from rush-lib\r\n * to get the rush common/temp folder, we cause a whole bunch of unnecessary\r\n * filesystem accesses.\r\n */\r\nimport * as path from 'path';\r\nimport { FileSystem } from '@rushstack/node-core-library';\r\n\r\nfunction _findRushJsonFolder(): string {\r\n  let currentFolder: string = process.cwd();\r\n\r\n  for (let i: number = 0; i < 10; ++i) {\r\n    const rushJsonFilename: string = path.join(currentFolder, 'rush.json');\r\n\r\n    if (FileSystem.exists(rushJsonFilename)) {\r\n      return currentFolder;\r\n    }\r\n\r\n    const parentFolder: string = path.dirname(currentFolder);\r\n    if (parentFolder === currentFolder) {\r\n      break;\r\n    }\r\n    currentFolder = parentFolder;\r\n  }\r\n  throw new Error('Unable to find rush.json configuration file');\r\n}\r\n\r\nlet _cachedRushJsonFolder: string;\r\nexport function findRushJsonFolder(): string {\r\n  return _cachedRushJsonFolder || (_cachedRushJsonFolder = _findRushJsonFolder());\r\n}\r\n\r\nexport function getRushCommonTempFolder(): string {\r\n  const rushJsonFolder: string = findRushJsonFolder();\r\n  return path.join(rushJsonFolder, 'common', 'temp');\r\n}\r\n\r\nexport function getRushConfigFolder(): string {\r\n  const rushJsonFolder: string = findRushJsonFolder();\r\n  return path.join(rushJsonFolder, 'common', 'config');\r\n}\r\n"]}