{"version":3,"file":"EmitCompletedCallbackManager.js","sourceRoot":"","sources":["../../../src/plugins/TypeScriptPlugin/EmitCompletedCallbackManager.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAE3D,sHAAmH;AAGnH,MAAM,uCAAuC,GAAW,qCAAqC,CAAC;AAE9F,MAAa,4BAA6B,SAAQ,uEAAkC;IAGlF,YAAmB,QAAoB;QACrC,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;IAC5B,CAAC;IAEM,QAAQ;QACb,IAAI,CAAC,0BAA0B,CAAC,EAAE,IAAI,EAAE,uCAAuC,EAAE,CAAC,CAAC;IACrF,CAAC;IAEM,8BAA8B,CAAC,OAA+B;QACnE,OAAO,OAAO,CAAC,IAAI,KAAK,uCAAuC,CAAC;IAClE,CAAC;IAEM,4BAA4B,CAAC,OAA+B;QACjE,IAAI,OAAO,CAAC,IAAI,KAAK,uCAAuC,EAAE;YAC5D,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;IACH,CAAC;IAEM,iCAAiC,CAAC,OAA+B;QACtE,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,+BAA+B,CAAC,OAA+B,IAAS,CAAC;CACjF;AA5BD,oEA4BC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { SubprocessCommunicationManagerBase } from '../../utilities/subprocess/SubprocessCommunicationManagerBase';\r\nimport { ISubprocessMessageBase } from '../../utilities/subprocess/SubprocessCommunication';\r\n\r\nconst EMIT_COMPLETED_CALLBACK_MANAGER_MESSAGE: string = 'emitCompletedCallbackManagerMessage';\r\n\r\nexport class EmitCompletedCallbackManager extends SubprocessCommunicationManagerBase {\r\n  private readonly _callback: () => void;\r\n\r\n  public constructor(callback: () => void) {\r\n    super();\r\n\r\n    this._callback = callback;\r\n  }\r\n\r\n  public callback(): void {\r\n    this.sendMessageToParentProcess({ type: EMIT_COMPLETED_CALLBACK_MANAGER_MESSAGE });\r\n  }\r\n\r\n  public canHandleMessageFromSubprocess(message: ISubprocessMessageBase): boolean {\r\n    return message.type === EMIT_COMPLETED_CALLBACK_MANAGER_MESSAGE;\r\n  }\r\n\r\n  public receiveMessageFromSubprocess(message: ISubprocessMessageBase): void {\r\n    if (message.type === EMIT_COMPLETED_CALLBACK_MANAGER_MESSAGE) {\r\n      this._callback();\r\n    }\r\n  }\r\n\r\n  public canHandleMessageFromParentProcess(message: ISubprocessMessageBase): boolean {\r\n    return false;\r\n  }\r\n\r\n  public receiveMessageFromParentProcess(message: ISubprocessMessageBase): void {}\r\n}\r\n"]}