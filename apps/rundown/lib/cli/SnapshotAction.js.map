{"version":3,"file":"SnapshotAction.js","sourceRoot":"","sources":["../../src/cli/SnapshotAction.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAE3D,yDAAsD;AAEtD,wCAAqC;AAErC,MAAa,cAAe,SAAQ,mCAAgB;IAClD;QACE,KAAK,CAAC;YACJ,UAAU,EAAE,UAAU;YACtB,OAAO,EAAE,sDAAsD;YAC/D,aAAa,EACX,0GAA0G;gBAC1G,+EAA+E;SAClF,CAAC,CAAC;IACL,CAAC;IAES,kBAAkB;QAC1B,KAAK,CAAC,kBAAkB,EAAE,CAAC;IAC7B,CAAC;IAES,KAAK,CAAC,SAAS;QACvB,MAAM,OAAO,GAAY,IAAI,iBAAO,EAAE,CAAC;QACvC,MAAM,OAAO,CAAC,WAAW,CACvB,IAAI,CAAC,eAAe,CAAC,KAAM,EAC3B,IAAI,CAAC,aAAa,CAAC,KAAK,EACxB,IAAI,CAAC,cAAc,CAAC,KAAO,EAC3B,IAAI,CAAC,uBAAuB,CAAC,KAAO,CACrC,CAAC;QACF,OAAO,CAAC,mBAAmB,EAAE,CAAC;IAChC,CAAC;CACF;AAzBD,wCAyBC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { BaseReportAction } from './BaseReportAction';\r\n\r\nimport { Rundown } from '../Rundown';\r\n\r\nexport class SnapshotAction extends BaseReportAction {\r\n  public constructor() {\r\n    super({\r\n      actionName: 'snapshot',\r\n      summary: 'Invoke a Node.js script and generate a test snapshot',\r\n      documentation:\r\n        'Invoke a Node.js script and generate a test snapshot.  This command creates a concise report that can be' +\r\n        ' added to Git, so that its diff can be used to detect performance regressions'\r\n    });\r\n  }\r\n\r\n  protected onDefineParameters(): void {\r\n    super.onDefineParameters();\r\n  }\r\n\r\n  protected async onExecute(): Promise<void> {\r\n    const rundown: Rundown = new Rundown();\r\n    await rundown.invokeAsync(\r\n      this.scriptParameter.value!,\r\n      this.argsParameter.value,\r\n      this.quietParameter.value!!,\r\n      this.ignoreExitCodeParameter.value!!\r\n    );\r\n    rundown.writeSnapshotReport();\r\n  }\r\n}\r\n"]}