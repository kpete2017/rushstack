{"version":3,"file":"Extractor-custom-tags.test.js","sourceRoot":"","sources":["../../../src/api/test/Extractor-custom-tags.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { StandardTags } from '@microsoft/tsdoc';\r\nimport * as path from 'path';\r\n\r\nimport { ExtractorConfig } from '../ExtractorConfig';\r\n\r\nconst testDataFolder: string = path.join(__dirname, 'test-data');\r\n\r\ndescribe('Extractor-custom-tags', () => {\r\n  describe('should use a TSDocConfiguration', () => {\r\n    it.only(\"with custom TSDoc tags defined in the package's tsdoc.json\", () => {\r\n      const extractorConfig: ExtractorConfig = ExtractorConfig.loadFileAndPrepare(\r\n        path.join(testDataFolder, 'custom-tsdoc-tags/api-extractor.json')\r\n      );\r\n      const { tsdocConfiguration } = extractorConfig;\r\n\r\n      expect(tsdocConfiguration.tryGetTagDefinition('@block')).not.toBe(undefined);\r\n      expect(tsdocConfiguration.tryGetTagDefinition('@inline')).not.toBe(undefined);\r\n      expect(tsdocConfiguration.tryGetTagDefinition('@modifier')).not.toBe(undefined);\r\n    });\r\n    it.only(\"with custom TSDoc tags enabled per the package's tsdoc.json\", () => {\r\n      const extractorConfig: ExtractorConfig = ExtractorConfig.loadFileAndPrepare(\r\n        path.join(testDataFolder, 'custom-tsdoc-tags/api-extractor.json')\r\n      );\r\n      const { tsdocConfiguration } = extractorConfig;\r\n      const block = tsdocConfiguration.tryGetTagDefinition('@block')!;\r\n      const inline = tsdocConfiguration.tryGetTagDefinition('@inline')!;\r\n      const modifier = tsdocConfiguration.tryGetTagDefinition('@modifier')!;\r\n\r\n      expect(tsdocConfiguration.isTagSupported(block)).toBe(true);\r\n      expect(tsdocConfiguration.isTagSupported(inline)).toBe(true);\r\n      expect(tsdocConfiguration.isTagSupported(modifier)).toBe(false);\r\n    });\r\n    it.only(\"with standard tags and API Extractor custom tags defined and supported when the package's tsdoc.json extends API Extractor's tsdoc.json\", () => {\r\n      const extractorConfig: ExtractorConfig = ExtractorConfig.loadFileAndPrepare(\r\n        path.join(testDataFolder, 'custom-tsdoc-tags/api-extractor.json')\r\n      );\r\n      const { tsdocConfiguration } = extractorConfig;\r\n\r\n      expect(tsdocConfiguration.tryGetTagDefinition('@inline')).not.toBe(undefined);\r\n      expect(tsdocConfiguration.tryGetTagDefinition('@block')).not.toBe(undefined);\r\n      expect(tsdocConfiguration.tryGetTagDefinition('@modifier')).not.toBe(undefined);\r\n\r\n      StandardTags.allDefinitions\r\n        .concat([\r\n          tsdocConfiguration.tryGetTagDefinition('@betaDocumentation')!,\r\n          tsdocConfiguration.tryGetTagDefinition('@internalRemarks')!,\r\n          tsdocConfiguration.tryGetTagDefinition('@preapproved')!\r\n        ])\r\n        .forEach((tag) => {\r\n          expect(tsdocConfiguration.tagDefinitions.includes(tag));\r\n          expect(tsdocConfiguration.supportedTagDefinitions.includes(tag));\r\n        });\r\n    });\r\n  });\r\n});\r\n"]}