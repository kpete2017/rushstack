{"version":3,"file":"MinimalRushConfiguration.test.js","sourceRoot":"","sources":["../../src/test/MinimalRushConfiguration.test.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;;;;;;;;;;;;;;;;;;;AAE3D,2CAA6B;AAE7B,0EAAuE;AAEvE,QAAQ,CAAC,0BAA0B,EAAE,GAAG,EAAE;IACxC,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE;QAClC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC,CAAC;QACxG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oCAAoC,EAAE,GAAG,EAAE;YAC5C,MAAM,MAAM,GACV,mDAAwB,CAAC,uBAAuB,EAA8B,CAAC;YACjF,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC;QACjG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oCAAoC,EAAE,GAAG,EAAE;YAC5C,MAAM,MAAM,GACV,mDAAwB,CAAC,uBAAuB,EAA8B,CAAC;YACjF,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport * as path from 'path';\r\n\r\nimport { MinimalRushConfiguration } from '../MinimalRushConfiguration';\r\n\r\ndescribe('MinimalRushConfiguration', () => {\r\n  afterEach(() => {\r\n    jest.restoreAllMocks();\r\n  });\r\n\r\n  describe('legacy rush config', () => {\r\n    beforeEach(() => {\r\n      jest.spyOn(process, 'cwd').mockReturnValue(path.join(__dirname, 'sandbox', 'legacy-repo', 'project'));\r\n    });\r\n\r\n    it('correctly loads the rush.json file', () => {\r\n      const config: MinimalRushConfiguration =\r\n        MinimalRushConfiguration.loadFromDefaultLocation() as MinimalRushConfiguration;\r\n      expect(config.rushVersion).toEqual('2.5.0');\r\n    });\r\n  });\r\n\r\n  describe('non-legacy rush config', () => {\r\n    beforeEach(() => {\r\n      jest.spyOn(process, 'cwd').mockReturnValue(path.join(__dirname, 'sandbox', 'repo', 'project'));\r\n    });\r\n\r\n    it('correctly loads the rush.json file', () => {\r\n      const config: MinimalRushConfiguration =\r\n        MinimalRushConfiguration.loadFromDefaultLocation() as MinimalRushConfiguration;\r\n      expect(config.rushVersion).toEqual('4.0.0');\r\n    });\r\n  });\r\n});\r\n"]}